import{$ as m,ak as M,k as t,a5 as p,a4 as P,o as v,c as E,a as f,K as _,aM as b,W as s,E as L,aZ as R,v as $,D as N,a8 as G,ab as V}from"./vendor.Fk0OTSuU1709709202159.js";import{R as z,E as D}from"./EffectComposer.vGi6JD9n1709709202159.js";import{U as H}from"./UnrealBloomPass.WHEC5VeD1709709202159.js";const U=s("TresBoxGeometry",{args:[1,1,1]},null,-1),A=s("TresMeshNormalMaterial",null,null,-1),F=[U,A],I=s("TresBoxGeometry",{args:[1,1,1]},null,-1),K=s("TresMeshNormalMaterial",null,null,-1),S=[I,K],W=m({__name:"ecLayers",setup(y){const{camera:e,renderer:a,scene:o,sizes:l}=M(),n=t(),c=t(),i=t();let r=null;p(()=>{n.value&&n.value.value.layers.set(0),c.value&&c.value.layers.set(1),i.value&&i.value.layers.set(2),l.width.value&&x(o.value,e.value,a.value,l.width.value,l.height.value)});const u={threshold:0,strength:.972,radius:.21},x=(d,h,g,w,k)=>{const T=new z(d,h),C=new H(new R(w,k),u.strength,u.radius,u.threshold);r=new D(g),r.addPass(T),r.addPass(C)},{onLoop:B}=P();return B(()=>{r&&e.value&&(a.value.clear(),e.value.layers.set(1),r.render(),a.value.clearDepth(),e.value.layers.set(0),a.value.render(o.value,e.value))}),(d,h)=>(v(),E(L,null,[f(_(b),{ref_key:"normalBox",ref:n,args:[1,1,1],color:"orange",position:[3,2,1]},null,512),s("TresMesh",{ref_key:"shineBox",ref:c,position:[0,2,-4]},F,512),s("TresMesh",{ref_key:"filmBox",ref:i,position:[1,2,3]},S,512)],64))}}),Z=s("TresPerspectiveCamera",{position:[10,10,10]},null,-1),j=s("TresAmbientLight",{intensity:1},null,-1),q=s("TresGridHelper",{args:[10,10]},null,-1),X=m({__name:"effectComposerLayers",setup(y){const e=t();return p(()=>{if(e.value){let a=e.value.context.renderer.value;a.autoClear=!1}}),(a,o)=>(v(),$(_(G),{disableRender:"","window-size":"",ref_key:"tcRef",ref:e},{default:N(()=>[Z,j,f(_(V)),q,f(W)]),_:1},512))}});export{X as default};
