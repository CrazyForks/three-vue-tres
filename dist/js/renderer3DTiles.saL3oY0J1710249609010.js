import{$ as f,ak as w,a5 as _,a4 as h,o as g,c as T,W as s,K as l,bf as y,bd as B,a0 as d,ac as S,v as b,D as x,a7 as L,a8 as D,a as m,a9 as C,aa as k,ab as M}from"./vendor.jNLcW6ym1710249609010.js";import{T as R}from"./TilesRenderer.107FaFRC1710249609010.js";import"./BufferGeometryUtils.kln3pHrq1710249609010.js";const j=["object"],P=f({__name:"tilesMesh",setup(v){const e=new R("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/3Dtiles/simpleGIS/data/tileset.json");e.errorTarget=0;const r=p=>{p.traverse(o=>{o.isMesh&&(o.material.side=2,o.receiveShadow=!1,o.castShadow=!1)});const i=new y,u=new B;e.getBoundingBox(i)?(i.getCenter(e.group.position),e.group.position.multiplyScalar(-1)):e.getBoundingSphere(u)&&(e.group.position.copy(u.center),e.group.position.multiplyScalar(-1))};e.onLoadModel=r;const{camera:t,renderer:a,sizes:n}=w();_(()=>{n.width.value&&(e.setCamera(t.value),e.setResolutionFromRenderer(t.value,a.value))});const{onBeforeLoop:c}=h();return c(()=>{t.value&&n.width.value&&(t.value.updateMatrixWorld(),e.update())}),(p,i)=>(g(),T("TresGroup",null,[s("primitive",{object:l(e).group},null,8,j)]))}}),z=s("TresPerspectiveCamera",{position:[400,400,400],fov:60,near:.1,far:4e3},null,-1),$=s("TresAmbientLight",{intensity:.5},null,-1),I=f({__name:"renderer3DTiles",setup(v){const e=d({clearColor:"#201919"}),r=d({enableDamping:!0,dampingFactor:.05}),{onLoop:t}=h();t(()=>{});const a=S();return _(()=>{a.value&&a.value.position.set(1,2,3).multiplyScalar(40)}),(n,c)=>(g(),b(l(D),L(e,{"window-size":""}),{default:x(()=>[z,m(l(M),C(k(r)),null,16),$,s("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:a,position:[1,2,3],intensity:1.25},null,512),m(P)]),_:1},16))}});export{I as default};
