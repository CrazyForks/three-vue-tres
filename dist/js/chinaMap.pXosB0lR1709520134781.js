var dn=(n,t)=>(t=Symbol[n])?t:Symbol.for("Symbol."+n);var lt=function(n,t){this[0]=n,this[1]=t};var Nn=n=>{var t=n[dn("asyncIterator")],i=!1,e,r={};return t==null?(t=n[dn("iterator")](),e=l=>r[l]=a=>t[l](a)):(t=t.call(n),e=l=>r[l]=a=>{if(i){if(i=!1,l==="throw")throw a;return a}return i=!0,{done:!1,value:new lt(new Promise(c=>{var g=t[l](a);if(!(g instanceof Object))throw TypeError("Object expected");c(g)}),1)}}),r[dn("iterator")]=()=>r,e("next"),"throw"in t?e("throw"):r.throw=l=>{throw l},"return"in t&&e("return"),r};import{an as ft,ct as at,k as ct,a5 as kn,a4 as bn,o as cn,c as In,E as st,G as pt,W as sn,b5 as An,at as ht,cA as vt,$ as gt,a0 as Cn,v as zn,D as Gn,a7 as Et,K as $n,a8 as dt,a as Dn,a9 as St,aa as yt,ab as Mt,ag as wt}from"./vendor.UXgcsyzV1709520134781.js";import{l as _t,c as mt,d as Pt,a as Tt}from"./utils.T1FGP-HL1709520134781.js";import"./Water2.ihl8KPO-1709520134781.js";import"./Reflector.8hw4VstS1709520134781.js";class Rt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const l=i[r],a=t+l,c=Math.abs(t)<Math.abs(l)?t-(a-l):l-(a-t);c&&(i[e++]=c),t=a}return i[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let i=this._n,e,r,l,a=0;if(i>0){for(a=t[--i];i>0&&(e=a,r=t[--i],a=e+r,l=r-(a-e),!l););i>0&&(l<0&&t[i-1]<0||l>0&&t[i-1]>0)&&(r=l*2,e=a+r,r==e-a&&(a=e))}return a}}function*Bt(n){for(const t of n)yield*Nn(t)}function nt(n){return Array.from(Bt(n))}var A=1e-6,Lt=1e-12,B=Math.PI,W=B/2,On=B/4,Y=B*2,V=180/B,O=B/180,z=Math.abs,tt=Math.atan,nn=Math.atan2,$=Math.cos,Nt=Math.exp,It=Math.log,D=Math.sin,At=Math.sign||function(n){return n>0?1:n<0?-1:0},En=Math.sqrt,Ct=Math.tan;function zt(n){return n>1?0:n<-1?B:Math.acos(n)}function tn(n){return n>1?W:n<-1?-W:Math.asin(n)}function k(){}function pn(n,t){n&&qn.hasOwnProperty(n.type)&&qn[n.type](n,t)}var Fn={Feature:function(n,t){pn(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,e=-1,r=i.length;++e<r;)pn(i[e].geometry,t)}},qn={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)n=i[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Mn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)Mn(i[e],t,0)},Polygon:function(n,t){Hn(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)Hn(i[e],t)},GeometryCollection:function(n,t){for(var i=n.geometries,e=-1,r=i.length;++e<r;)pn(i[e],t)}};function Mn(n,t,i){var e=-1,r=n.length-i,l;for(t.lineStart();++e<r;)l=n[e],t.point(l[0],l[1],l[2]);t.lineEnd()}function Hn(n,t){var i=-1,e=n.length;for(t.polygonStart();++i<e;)Mn(n[i],t,1);t.polygonEnd()}function Gt(n,t){n&&Fn.hasOwnProperty(n.type)?Fn[n.type](n,t):pn(n,t)}function wn(n){return[nn(n[1],n[0]),tn(n[2])]}function U(n){var t=n[0],i=n[1],e=$(i);return[e*$(t),e*D(t),D(i)]}function on(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function hn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Sn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function un(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function _n(n){var t=En(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function mn(n,t){function i(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(i.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),i}function Pn(n,t){return z(n)>B&&(n-=Math.round(n/Y)*Y),[n,t]}Pn.invert=Pn;function et(n,t,i){return(n%=Y)?t||i?mn(Vn(n),Xn(t,i)):Vn(n):t||i?Xn(t,i):Pn}function Wn(n){return function(t,i){return t+=n,z(t)>B&&(t-=Math.round(t/Y)*Y),[t,i]}}function Vn(n){var t=Wn(n);return t.invert=Wn(-n),t}function Xn(n,t){var i=$(n),e=D(n),r=$(t),l=D(t);function a(c,g){var v=$(g),o=$(c)*v,u=D(c)*v,f=D(g),p=f*i+o*e;return[nn(u*r-p*l,o*i-f*e),tn(p*r+u*l)]}return a.invert=function(c,g){var v=$(g),o=$(c)*v,u=D(c)*v,f=D(g),p=f*r-u*l;return[nn(u*r+f*l,o*i+p*e),tn(p*i-o*e)]},a}function $t(n){n=et(n[0]*O,n[1]*O,n.length>2?n[2]*O:0);function t(i){return i=n(i[0]*O,i[1]*O),i[0]*=V,i[1]*=V,i}return t.invert=function(i){return i=n.invert(i[0]*O,i[1]*O),i[0]*=V,i[1]*=V,i},t}function Dt(n,t,i,e,r,l){if(i){var a=$(t),c=D(t),g=e*i;r==null?(r=t+e*Y,l=t-g/2):(r=Yn(a,r),l=Yn(a,l),(e>0?r<l:r>l)&&(r+=e*Y));for(var v,o=r;e>0?o>l:o<l;o-=g)v=wn([a,-c*$(o),-c*D(o)]),n.point(v[0],v[1])}}function Yn(n,t){t=U(t),t[0]-=n,_n(t);var i=zt(-t[1]);return((-t[2]<0?-i:i)+Y-A)%Y}function it(){var n=[],t;return{point:function(i,e,r){t.push([i,e,r])},lineStart:function(){n.push(t=[])},lineEnd:k,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],t=null,i}}}function an(n,t){return z(n[0]-t[0])<A&&z(n[1]-t[1])<A}function ln(n,t,i,e){this.x=n,this.z=t,this.o=i,this.e=e,this.v=!1,this.n=this.p=null}function rt(n,t,i,e,r){var l=[],a=[],c,g;if(n.forEach(function(h){if(!((w=h.length-1)<=0)){var w,S=h[0],E=h[w],y;if(an(S,E)){if(!S[2]&&!E[2]){for(r.lineStart(),c=0;c<w;++c)r.point((S=h[c])[0],S[1]);r.lineEnd();return}E[0]+=2*A}l.push(y=new ln(S,h,null,!0)),a.push(y.o=new ln(S,null,y,!1)),l.push(y=new ln(E,h,null,!1)),a.push(y.o=new ln(E,null,y,!0))}}),!!l.length){for(a.sort(t),xn(l),xn(a),c=0,g=a.length;c<g;++c)a[c].e=i=!i;for(var v=l[0],o,u;;){for(var f=v,p=!0;f.v;)if((f=f.n)===v)return;o=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(c=0,g=o.length;c<g;++c)r.point((u=o[c])[0],u[1]);else e(f.x,f.n.x,1,r);f=f.n}else{if(p)for(o=f.p.z,c=o.length-1;c>=0;--c)r.point((u=o[c])[0],u[1]);else e(f.x,f.p.x,-1,r);f=f.p}f=f.o,o=f.z,p=!p}while(!f.v);r.lineEnd()}}}function xn(n){if(t=n.length){for(var t,i=0,e=n[0],r;++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function yn(n){return z(n[0])<=B?n[0]:At(n[0])*((z(n[0])+B)%Y-B)}function Ot(n,t){var i=yn(t),e=t[1],r=D(e),l=[D(i),-$(i),0],a=0,c=0,g=new Rt;r===1?e=W+A:r===-1&&(e=-W-A);for(var v=0,o=n.length;v<o;++v)if(f=(u=n[v]).length)for(var u,f,p=u[f-1],h=yn(p),w=p[1]/2+On,S=D(w),E=$(w),y=0;y<f;++y,h=d,S=m,E=N,p=M){var M=u[y],d=yn(M),_=M[1]/2+On,m=D(_),N=$(_),R=d-h,L=R>=0?1:-1,C=L*R,P=C>B,q=S*m;if(g.add(nn(q*L*D(C),E*N+q*$(C))),a+=P?R+L*Y:R,P^h>=i^d>=i){var G=hn(U(p),U(M));_n(G);var I=hn(l,G);_n(I);var s=(P^R>=0?-1:1)*tn(I[2]);(e>s||e===s&&(G[0]||G[1]))&&(c+=P^R>=0?1:-1)}}return(a<-A||a<A&&g<-Lt)^c&1}function ot(n,t,i,e){return function(r){var l=t(r),a=it(),c=t(a),g=!1,v,o,u,f={point:p,lineStart:w,lineEnd:S,polygonStart:function(){f.point=E,f.lineStart=y,f.lineEnd=M,o=[],v=[]},polygonEnd:function(){f.point=p,f.lineStart=w,f.lineEnd=S,o=nt(o);var d=Ot(v,e);o.length?(g||(r.polygonStart(),g=!0),rt(o,qt,d,i,r)):d&&(g||(r.polygonStart(),g=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),g&&(r.polygonEnd(),g=!1),o=v=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(d,_){n(d,_)&&r.point(d,_)}function h(d,_){l.point(d,_)}function w(){f.point=h,l.lineStart()}function S(){f.point=p,l.lineEnd()}function E(d,_){u.push([d,_]),c.point(d,_)}function y(){c.lineStart(),u=[]}function M(){E(u[0][0],u[0][1]),c.lineEnd();var d=c.clean(),_=a.result(),m,N=_.length,R,L,C;if(u.pop(),v.push(u),u=null,!!N){if(d&1){if(L=_[0],(R=L.length-1)>0){for(g||(r.polygonStart(),g=!0),r.lineStart(),m=0;m<R;++m)r.point((C=L[m])[0],C[1]);r.lineEnd()}return}N>1&&d&2&&_.push(_.pop().concat(_.shift())),o.push(_.filter(Ft))}}return f}}function Ft(n){return n.length>1}function qt(n,t){return((n=n.x)[0]<0?n[1]-W-A:W-n[1])-((t=t.x)[0]<0?t[1]-W-A:W-t[1])}const Jn=ot(function(){return!0},Ht,Vt,[-B,-W]);function Ht(n){var t=NaN,i=NaN,e=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(l,a){var c=l>0?B:-B,g=z(l-t);z(g-B)<A?(n.point(t,i=(i+a)/2>0?W:-W),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(c,i),n.point(l,i),r=0):e!==c&&g>=B&&(z(t-e)<A&&(t-=e*A),z(l-c)<A&&(l-=c*A),i=Wt(t,i,l,a),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(c,i),r=0),n.point(t=l,i=a),e=c},lineEnd:function(){n.lineEnd(),t=i=NaN},clean:function(){return 2-r}}}function Wt(n,t,i,e){var r,l,a=D(n-i);return z(a)>A?tt((D(t)*(l=$(e))*D(i)-D(e)*(r=$(t))*D(n))/(r*l*a)):(t+e)/2}function Vt(n,t,i,e){var r;if(n==null)r=i*W,e.point(-B,r),e.point(0,r),e.point(B,r),e.point(B,0),e.point(B,-r),e.point(0,-r),e.point(-B,-r),e.point(-B,0),e.point(-B,r);else if(z(n[0]-t[0])>A){var l=n[0]<t[0]?B:-B;r=i*l/2,e.point(-l,r),e.point(0,r),e.point(l,r)}else e.point(t[0],t[1])}function Xt(n){var t=$(n),i=6*O,e=t>0,r=z(t)>A;function l(o,u,f,p){Dt(p,n,i,f,o,u)}function a(o,u){return $(o)*$(u)>t}function c(o){var u,f,p,h,w;return{lineStart:function(){h=p=!1,w=1},point:function(S,E){var y=[S,E],M,d=a(S,E),_=e?d?0:v(S,E):d?v(S+(S<0?B:-B),E):0;if(!u&&(h=p=d)&&o.lineStart(),d!==p&&(M=g(u,y),(!M||an(u,M)||an(y,M))&&(y[2]=1)),d!==p)w=0,d?(o.lineStart(),M=g(y,u),o.point(M[0],M[1])):(M=g(u,y),o.point(M[0],M[1],2),o.lineEnd()),u=M;else if(r&&u&&e^d){var m;!(_&f)&&(m=g(y,u,!0))&&(w=0,e?(o.lineStart(),o.point(m[0][0],m[0][1]),o.point(m[1][0],m[1][1]),o.lineEnd()):(o.point(m[1][0],m[1][1]),o.lineEnd(),o.lineStart(),o.point(m[0][0],m[0][1],3)))}d&&(!u||!an(u,y))&&o.point(y[0],y[1]),u=y,p=d,f=_},lineEnd:function(){p&&o.lineEnd(),u=null},clean:function(){return w|(h&&p)<<1}}}function g(o,u,f){var p=U(o),h=U(u),w=[1,0,0],S=hn(p,h),E=on(S,S),y=S[0],M=E-y*y;if(!M)return!f&&o;var d=t*E/M,_=-t*y/M,m=hn(w,S),N=un(w,d),R=un(S,_);Sn(N,R);var L=m,C=on(N,L),P=on(L,L),q=C*C-P*(on(N,N)-1);if(!(q<0)){var G=En(q),I=un(L,(-C-G)/P);if(Sn(I,N),I=wn(I),!f)return I;var s=o[0],T=u[0],F=o[1],H=u[1],X;T<s&&(X=s,s=T,T=X);var j=T-s,x=z(j-B)<A,K=x||j<A;if(!x&&H<F&&(X=F,F=H,H=X),K?x?F+H>0^I[1]<(z(I[0]-s)<A?F:H):F<=I[1]&&I[1]<=H:j>B^(s<=I[0]&&I[0]<=T)){var J=un(L,(-C+G)/P);return Sn(J,N),[I,wn(J)]}}}function v(o,u){var f=e?n:B-n,p=0;return o<-f?p|=1:o>f&&(p|=2),u<-f?p|=4:u>f&&(p|=8),p}return ot(a,c,l,e?[0,-n]:[-B,n-B])}function Yt(n,t,i,e,r,l){var a=n[0],c=n[1],g=t[0],v=t[1],o=0,u=1,f=g-a,p=v-c,h;if(h=i-a,!(!f&&h>0)){if(h/=f,f<0){if(h<o)return;h<u&&(u=h)}else if(f>0){if(h>u)return;h>o&&(o=h)}if(h=r-a,!(!f&&h<0)){if(h/=f,f<0){if(h>u)return;h>o&&(o=h)}else if(f>0){if(h<o)return;h<u&&(u=h)}if(h=e-c,!(!p&&h>0)){if(h/=p,p<0){if(h<o)return;h<u&&(u=h)}else if(p>0){if(h>u)return;h>o&&(o=h)}if(h=l-c,!(!p&&h<0)){if(h/=p,p<0){if(h>u)return;h>o&&(o=h)}else if(p>0){if(h<o)return;h<u&&(u=h)}return o>0&&(n[0]=a+o*f,n[1]=c+o*p),u<1&&(t[0]=a+u*f,t[1]=c+u*p),!0}}}}}var b=1e9,fn=-b;function xt(n,t,i,e){function r(v,o){return n<=v&&v<=i&&t<=o&&o<=e}function l(v,o,u,f){var p=0,h=0;if(v==null||(p=a(v,u))!==(h=a(o,u))||g(v,o)<0^u>0)do f.point(p===0||p===3?n:i,p>1?e:t);while((p=(p+u+4)%4)!==h);else f.point(o[0],o[1])}function a(v,o){return z(v[0]-n)<A?o>0?0:3:z(v[0]-i)<A?o>0?2:1:z(v[1]-t)<A?o>0?1:0:o>0?3:2}function c(v,o){return g(v.x,o.x)}function g(v,o){var u=a(v,1),f=a(o,1);return u!==f?u-f:u===0?o[1]-v[1]:u===1?v[0]-o[0]:u===2?v[1]-o[1]:o[0]-v[0]}return function(v){var o=v,u=it(),f,p,h,w,S,E,y,M,d,_,m,N={point:R,lineStart:q,lineEnd:G,polygonStart:C,polygonEnd:P};function R(s,T){r(s,T)&&o.point(s,T)}function L(){for(var s=0,T=0,F=p.length;T<F;++T)for(var H=p[T],X=1,j=H.length,x=H[0],K,J,rn=x[0],Q=x[1];X<j;++X)K=rn,J=Q,x=H[X],rn=x[0],Q=x[1],J<=e?Q>e&&(rn-K)*(e-J)>(Q-J)*(n-K)&&++s:Q<=e&&(rn-K)*(e-J)<(Q-J)*(n-K)&&--s;return s}function C(){o=u,f=[],p=[],m=!0}function P(){var s=L(),T=m&&s,F=(f=nt(f)).length;(T||F)&&(v.polygonStart(),T&&(v.lineStart(),l(null,null,1,v),v.lineEnd()),F&&rt(f,c,s,l,v),v.polygonEnd()),o=v,f=p=h=null}function q(){N.point=I,p&&p.push(h=[]),_=!0,d=!1,y=M=NaN}function G(){f&&(I(w,S),E&&d&&u.rejoin(),f.push(u.result())),N.point=R,d&&o.lineEnd()}function I(s,T){var F=r(s,T);if(p&&h.push([s,T]),_)w=s,S=T,E=F,_=!1,F&&(o.lineStart(),o.point(s,T));else if(F&&d)o.point(s,T);else{var H=[y=Math.max(fn,Math.min(b,y)),M=Math.max(fn,Math.min(b,M))],X=[s=Math.max(fn,Math.min(b,s)),T=Math.max(fn,Math.min(b,T))];Yt(H,X,n,t,i,e)?(d||(o.lineStart(),o.point(H[0],H[1])),o.point(X[0],X[1]),F||o.lineEnd(),m=!1):F&&(o.lineStart(),o.point(s,T),m=!1)}y=s,M=T,d=F}return N}}const Kn=n=>n;var Z=1/0,vn=Z,en=-Z,gn=en,Jt={point:Kt,lineStart:k,lineEnd:k,polygonStart:k,polygonEnd:k,result:function(){var n=[[Z,vn],[en,gn]];return en=gn=-(vn=Z=1/0),n}};function Kt(n,t){n<Z&&(Z=n),n>en&&(en=n),t<vn&&(vn=t),t>gn&&(gn=t)}const Qn=Jt;function Rn(n){return function(t){var i=new Tn;for(var e in n)i[e]=n[e];return i.stream=t,i}}function Tn(){}Tn.prototype={constructor:Tn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Bn(n,t,i){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),Gt(i,n.stream(Qn)),t(Qn.result()),e!=null&&n.clipExtent(e),n}function ut(n,t,i){return Bn(n,function(e){var r=t[1][0]-t[0][0],l=t[1][1]-t[0][1],a=Math.min(r/(e[1][0]-e[0][0]),l/(e[1][1]-e[0][1])),c=+t[0][0]+(r-a*(e[1][0]+e[0][0]))/2,g=+t[0][1]+(l-a*(e[1][1]+e[0][1]))/2;n.scale(150*a).translate([c,g])},i)}function Qt(n,t,i){return ut(n,[[0,0],t],i)}function Ut(n,t,i){return Bn(n,function(e){var r=+t,l=r/(e[1][0]-e[0][0]),a=(r-l*(e[1][0]+e[0][0]))/2,c=-l*e[0][1];n.scale(150*l).translate([a,c])},i)}function Zt(n,t,i){return Bn(n,function(e){var r=+t,l=r/(e[1][1]-e[0][1]),a=-l*e[0][0],c=(r-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([a,c])},i)}var Un=16,jt=$(30*O);function Zn(n,t){return+t?bt(n,t):kt(n)}function kt(n){return Rn({point:function(t,i){t=n(t,i),this.stream.point(t[0],t[1])}})}function bt(n,t){function i(e,r,l,a,c,g,v,o,u,f,p,h,w,S){var E=v-e,y=o-r,M=E*E+y*y;if(M>4*t&&w--){var d=a+f,_=c+p,m=g+h,N=En(d*d+_*_+m*m),R=tn(m/=N),L=z(z(m)-1)<A||z(l-u)<A?(l+u)/2:nn(_,d),C=n(L,R),P=C[0],q=C[1],G=P-e,I=q-r,s=y*G-E*I;(s*s/M>t||z((E*G+y*I)/M-.5)>.3||a*f+c*p+g*h<jt)&&(i(e,r,l,a,c,g,P,q,L,d/=N,_/=N,m,w,S),S.point(P,q),i(P,q,L,d,_,m,v,o,u,f,p,h,w,S))}}return function(e){var r,l,a,c,g,v,o,u,f,p,h,w,S={point:E,lineStart:y,lineEnd:d,polygonStart:function(){e.polygonStart(),S.lineStart=_},polygonEnd:function(){e.polygonEnd(),S.lineStart=y}};function E(R,L){R=n(R,L),e.point(R[0],R[1])}function y(){u=NaN,S.point=M,e.lineStart()}function M(R,L){var C=U([R,L]),P=n(R,L);i(u,f,o,p,h,w,u=P[0],f=P[1],o=R,p=C[0],h=C[1],w=C[2],Un,e),e.point(u,f)}function d(){S.point=E,e.lineEnd()}function _(){y(),S.point=m,S.lineEnd=N}function m(R,L){M(r=R,L),l=u,a=f,c=p,g=h,v=w,S.point=M}function N(){i(u,f,o,p,h,w,l,a,r,c,g,v,Un,e),S.lineEnd=d,d()}return S}}var ne=Rn({point:function(n,t){this.stream.point(n*O,t*O)}});function te(n){return Rn({point:function(t,i){var e=n(t,i);return this.stream.point(e[0],e[1])}})}function ee(n,t,i,e,r){function l(a,c){return a*=e,c*=r,[t+n*a,i-n*c]}return l.invert=function(a,c){return[(a-t)/n*e,(i-c)/n*r]},l}function jn(n,t,i,e,r,l){if(!l)return ee(n,t,i,e,r);var a=$(l),c=D(l),g=a*n,v=c*n,o=a/n,u=c/n,f=(c*i-a*t)/n,p=(c*t+a*i)/n;function h(w,S){return w*=e,S*=r,[g*w-v*S+t,i-v*w-g*S]}return h.invert=function(w,S){return[e*(o*w-u*S+f),r*(p-u*w-o*S)]},h}function ie(n){return re(function(){return n})()}function re(n){var t,i=150,e=480,r=250,l=0,a=0,c=0,g=0,v=0,o,u=0,f=1,p=1,h=null,w=Jn,S=null,E,y,M,d=Kn,_=.5,m,N,R,L,C;function P(s){return R(s[0]*O,s[1]*O)}function q(s){return s=R.invert(s[0],s[1]),s&&[s[0]*V,s[1]*V]}P.stream=function(s){return L&&C===s?L:L=ne(te(o)(w(m(d(C=s)))))},P.preclip=function(s){return arguments.length?(w=s,h=void 0,I()):w},P.postclip=function(s){return arguments.length?(d=s,S=E=y=M=null,I()):d},P.clipAngle=function(s){return arguments.length?(w=+s?Xt(h=s*O):(h=null,Jn),I()):h*V},P.clipExtent=function(s){return arguments.length?(d=s==null?(S=E=y=M=null,Kn):xt(S=+s[0][0],E=+s[0][1],y=+s[1][0],M=+s[1][1]),I()):S==null?null:[[S,E],[y,M]]},P.scale=function(s){return arguments.length?(i=+s,G()):i},P.translate=function(s){return arguments.length?(e=+s[0],r=+s[1],G()):[e,r]},P.center=function(s){return arguments.length?(l=s[0]%360*O,a=s[1]%360*O,G()):[l*V,a*V]},P.rotate=function(s){return arguments.length?(c=s[0]%360*O,g=s[1]%360*O,v=s.length>2?s[2]%360*O:0,G()):[c*V,g*V,v*V]},P.angle=function(s){return arguments.length?(u=s%360*O,G()):u*V},P.reflectX=function(s){return arguments.length?(f=s?-1:1,G()):f<0},P.reflectY=function(s){return arguments.length?(p=s?-1:1,G()):p<0},P.precision=function(s){return arguments.length?(m=Zn(N,_=s*s),I()):En(_)},P.fitExtent=function(s,T){return ut(P,s,T)},P.fitSize=function(s,T){return Qt(P,s,T)},P.fitWidth=function(s,T){return Ut(P,s,T)},P.fitHeight=function(s,T){return Zt(P,s,T)};function G(){var s=jn(i,0,0,f,p,u).apply(null,t(l,a)),T=jn(i,e-s[0],r-s[1],f,p,u);return o=et(c,g,v),N=mn(t,T),R=mn(o,N),m=Zn(N,_),I()}function I(){return L=C=null,P}return function(){return t=n.apply(this,arguments),P.invert=t.invert&&q,G()}}function Ln(n,t){return[n,It(Ct((W+t)/2))]}Ln.invert=function(n,t){return[n,2*tt(Nt(t))-W]};function oe(){return ue(Ln).scale(961/Y)}function ue(n){var t=ie(n),i=t.center,e=t.scale,r=t.translate,l=t.clipExtent,a=null,c,g,v;t.scale=function(u){return arguments.length?(e(u),o()):e()},t.translate=function(u){return arguments.length?(r(u),o()):r()},t.center=function(u){return arguments.length?(i(u),o()):i()},t.clipExtent=function(u){return arguments.length?(u==null?a=c=g=v=null:(a=+u[0][0],c=+u[0][1],g=+u[1][0],v=+u[1][1]),o()):a==null?null:[[a,c],[g,v]]};function o(){var u=B*e(),f=t($t(t.rotate()).invert([0,0]));return l(a==null?[[f[0]-u,f[1]-u],[f[0]+u,f[1]+u]]:n===Ln?[[Math.max(f[0]-u,a),c],[Math.min(f[0]+u,g),v]]:[[a,Math.max(f[1]-u,c)],[g,Math.min(f[1]+u,v)]])}return o()}const le=["properties","renderOrder"],fe=["args"],ae=sn("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),ce={__name:"chinaMapMesh",async setup(n){let t,i;(()=>{An.prototype.computeBoundsTree=mt,An.prototype.disposeBoundsTree=Pt,ht.prototype.raycast=Tt})();const r=oe().center([104,37.5]).translate([0,0]),l=([t,i]=ft(()=>_t("./plugins/simpleGIS/json/china.json","features")),t=await t,i(),t),a={depth:10,bevelEnabled:!1},c=[];(()=>{l.forEach(E=>{E.geometry.coordinates.forEach(M=>{M.forEach(d=>{const _=new vt;for(let m=0;m<d.length;m++){const[N,R]=r(d[m]);m===0&&_.moveTo(N,-R),_.lineTo(N,-R)}c.push({shape:_,properties:E.properties})})})})})();const v=new at({color:"#3480C4",linewidth:1,linecap:"round"}),o=ct();kn(()=>{o.value&&o.value.children.forEach(E=>{E.geometry.computeBoundsTree();const y=[E.material,v];E.material=y})});let u=null;(()=>{const E=document.createElement("div");E.className="tooltip",E.style.border="1px solid white",E.style.position="absolute",E.style.color="white",E.style.padding="0px 6px",E.style.whiteSpace="no-wrap",E.style.visibility="hidden",document.body.appendChild(E),u=E})();const p=(E,y)=>{E.object.material[0].color.set(16711680),u.innerText=E.object.properties.name,u.style.visibility="visible"},h=(E,y)=>{console.log("pointer-leave",E,y),E.material[0].color.set(3010559),u.style.visibility="hidden"},w=(E,y)=>{u.style.left="".concat(y.clientX+6,"px"),u.style.top="".concat(y.clientY+6,"px")},{onLoop:S}=bn();return S(()=>{}),(E,y)=>(cn(),In("TresGroup",{ref_key:"tgRef",ref:o},[(cn(),In(st,null,pt(c,(M,d)=>sn("TresMesh",{key:"".concat(d),properties:M.properties,renderOrder:d,onPointerEnter:p,onPointerLeave:h,onPointerMove:w},[sn("TresExtrudeGeometry",{args:[M.shape,a]},null,8,fe),ae],40,le)),64))],512))}},se=sn("TresPerspectiveCamera",{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1),de=gt({__name:"chinaMap",setup(n){const t=Cn({clearColor:"#201919"}),i=Cn({enableDamping:!0,dampingFactor:.05}),{onLoop:e}=bn();return e(()=>{}),kn(()=>{}),(r,l)=>(cn(),zn($n(dt),Et(t,{"window-size":""}),{default:Gn(()=>[se,Dn($n(Mt),St(yt(i)),null,16),(cn(),zn(wt,null,{default:Gn(()=>[Dn(ce)]),_:1}))]),_:1},16))}});export{de as default};
