import{$ as f,ak as w,a5 as _,a4 as g,o as h,c as T,W as s,K as l,bi as B,bg as L,a0 as d,ac as S,v as b,D as x,a7 as y,a8 as D,a as m,a9 as C,aa as k,ab as M}from"./vendor.8CtyBQ9Q1710214071594.js";import{T as R}from"./TilesRenderer.S6DlVeGI1710214071594.js";import"./BufferGeometryUtils.HHwgC9B11710214071594.js";const j=["object"],P=f({__name:"tilesMesh",setup(v){const e=new R("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/3Dtiles/simpleGIS/data/tileset.json");e.errorTarget=0;const r=p=>{p.traverse(t=>{t.isMesh&&(t.material.side=2,t.receiveShadow=!1,t.castShadow=!1)});const i=new B,u=new L;e.getBoundingBox(i)?(i.getCenter(e.group.position),e.group.position.multiplyScalar(-1)):e.getBoundingSphere(u)&&(e.group.position.copy(u.center),e.group.position.multiplyScalar(-1))};e.onLoadModel=r;const{camera:a,renderer:o,sizes:n}=w();_(()=>{n.width.value&&(e.setCamera(a.value),e.setResolutionFromRenderer(a.value,o.value))});const{onBeforeLoop:c}=g();return c(()=>{a.value&&n.width.value&&(a.value.updateMatrixWorld(),e.update())}),(p,i)=>(h(),T("TresGroup",null,[s("primitive",{object:l(e).group},null,8,j)]))}}),z=s("TresPerspectiveCamera",{position:[400,400,400],fov:60,near:.1,far:4e3},null,-1),$=s("TresAmbientLight",{intensity:.5},null,-1),I=f({__name:"renderer3DTiles",setup(v){const e=d({clearColor:"#201919"}),r=d({enableDamping:!0,dampingFactor:.05}),{onLoop:a}=g();a(()=>{});const o=S();return _(()=>{o.value&&o.value.position.set(1,2,3).multiplyScalar(40)}),(n,c)=>(h(),b(l(D),y(e,{"window-size":""}),{default:x(()=>[z,m(l(M),C(k(r)),null,16),$,s("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:o,position:[1,2,3],intensity:1.25},null,512),m(P)]),_:1},16))}});export{I as default};
