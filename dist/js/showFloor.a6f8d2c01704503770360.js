import{Z as M,aO as B,aB as C,aC as R,a$ as c,aN as T,aW as k,b4 as v,o as l,c as I,J as m,v as u,C as d,a7 as N,a as h,aa as P,aA as G,V as e}from"./vendor.7b32672f1704503770360.js";import{R as V}from"./ReflectorMaterial.f66fbf481704503770360.js";import{R as Z}from"./OimoPhysicsBuffer.968a43621704503770360.js";import{m as j}from"./BufferGeometryUtils.f4de624f1704503770360.js";import"./dither.glsl.1a24d3091704503770360.js";const A=["rotation-x","position","object"],S=M({__name:"sciFiModular",props:{position:{default:[0,-1,0]}},async setup(p){let o,n;const x=p,{scene:g}=B(),{nodes:w}=([o,n]=C(()=>R("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/floor/modelDraco.glb",{draco:!0})),o=await o,n(),o),a=w.Cube016__0;console.log(a);const r=a.geometry,y=j([r.clone(),r.clone().applyMatrix4(new c().makeRotationZ(-Math.PI/2)),r.clone().applyMatrix4(new c().makeRotationZ(Math.PI/2)),r.clone().applyMatrix4(new c().makeRotationZ(-Math.PI))]),s=new Z,i=new V({reflectivity:6,mirror:.1,mixStrength:3,color:new T("#fff"),map:a.material.map.clone(),normalMap:a.material.normalMap.clone(),normalScale:new k(1,1),fog:g.fog,dithering:!0});i.uniforms.tReflect=s.renderTargetUniform,i.uniforms.uMatrix=s.textureMatrixUniform;const t=new v(y,i);return t.add(s),t.onBeforeRender=(f,_,b)=>{t.visible=!1,s.update(f,_,b),t.visible=!0},(f,_)=>(l(),I("primitive",{"rotation-x":-Math.PI/2,position:x.position,object:m(t)},null,8,A))}}),$=e("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1),D=e("TresAmbientLight",{intensity:10},null,-1),F=e("TresMesh",{position:[3,2,0]},[e("TresBoxGeometry",{args:[2,2,2]}),e("TresMeshNormalMaterial",{wireframe:!0})],-1),O=e("TresMesh",{position:[0,1.2,0]},[e("TresBoxGeometry",{args:[1,1,1]}),e("TresMeshNormalMaterial")],-1),L=M({__name:"showFloor",setup(p){return(o,n)=>(l(),u(m(N),{clearColor:"#201919","window-size":""},{default:d(()=>[$,h(m(P),{enableDamping:""}),D,F,O,(l(),u(G,null,{default:d(()=>[h(S,{position:[0,0,0]})]),_:1}))]),_:1}))}});export{L as default};
