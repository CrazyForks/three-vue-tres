import{$ as m,aj as v,c1 as x,c4 as p,o as n,c as h,W as e,a9 as d,aa as _,b7 as f,v as l,D as u,K as r,a8 as y,c3 as w,a as i,ab as S,aL as P,ai as k}from"./vendor.sYOrX-WA1707213045559.js";import{l as B}from"./utils.lDz4mBxV1707213045559.js";import"./RGBELoader.Z71CHaYP1707213045559.js";const M=["args"],T=m({__name:"skyBoxBmesh",props:{texture:{},size:{default:1e3}},async setup(c){let a,o;const t=c,s=([a,o]=v(()=>B(t.texture)),a=await a,o(),a);s.wrapS=s.wrapT=x,s.generateMipmaps=!1,s.magFilter=p,s.minFilter=p;const g={uniforms:{uSkybox:{type:"t",value:s}},side:f,vertexShader:"\n		varying vec3 vFragPos;\n\n		void main() {\n				vFragPos = position.xyz;\n				vec4 viewSpace = vec4(mat3(modelViewMatrix) * position, 0.0);\n				viewSpace.w = 1.0;\n				gl_Position = projectionMatrix * viewSpace;    \n		}",fragmentShader:"\n		uniform sampler2D uSkybox;\n		varying vec3 vFragPos;\n		const float PI = 3.14159265359;\n		void main() {\n				vec3 dir = normalize(vFragPos);\n				float v = (asin(dir.y) + PI * 0.5) / (PI); \n				float u = (atan(dir.x, dir.z) + PI) / (PI * 2.0);\n				gl_FragColor = texture2D(uSkybox, vec2(u, v));\n		}",depthWrite:!0};return(b,I)=>(n(),h("TresMesh",null,[e("TresBoxGeometry",{args:[t.size,t.size,t.size]},null,8,M),e("TresShaderMaterial",d(_(g)),null,16)]))}}),z=e("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e4,"look-at":[0,0,0]},null,-1),C=e("TresAmbientLight",{intensity:10},null,-1),F=e("TresMesh",{position:[0,2,-4],"cast-shadow":""},[e("TresBoxGeometry",{args:[2,2,2]}),e("TresMeshNormalMaterial")],-1),j=m({__name:"skyBoxB",setup(c){const a={clearColor:"#201919",windowSize:!0,shadows:!0,toneMapping:w,toneMappingExposure:.8};return(o,t)=>(n(),l(r(y),d(_(a)),{default:u(()=>[z,i(r(S),{enableDamping:""}),C,i(r(P),{args:[3,3,3],color:"orange",position:[3,2,1],"cast-shadow":""}),F,(n(),l(k,null,{default:u(()=>[i(T,{texture:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/desert_1k.hdr"})]),_:1}))]),_:1},16))}});export{j as default};
