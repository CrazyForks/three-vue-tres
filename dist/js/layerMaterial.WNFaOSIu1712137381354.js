var x=Object.defineProperty;var b=(r,e,o)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o;var d=(r,e,o)=>(b(r,typeof e!="symbol"?e+"":e,o),o);import{a0 as p,ac as w,ak as _,a6 as k,o as c,c as m,$ as A,k as y,a5 as B,az as u,a1 as g,a2 as M,a3 as R,b4 as T,aq as $,r as L,v,D as f,a7 as P,a as i,a9 as S,aa as D,K as t,ab as W,ag as z,X as h,b3 as G}from"./vendor.nygm-hYA1712137381354.js";import{L as V,D as E,C as F}from"./vanilla.NYAdCIFo1712137381354.js";import"./OimoPhysicsBuffer.hILVL8UG1712137381354.js";import{_ as N}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.ZUK-_7SU1712137381354.js";import"./vanilla.09qH88mD1712137381354.js";import"./_commonjsHelpers.5-cIlDoe1712137381354.js";import"./dither.glsl.y2WXw1t-1712137381354.js";class j extends V{constructor(e={}){super(e)}init(){const o=Object.keys(this).filter(a=>a.startsWith("layercoms_")).map(a=>this[a]);this.layers=o,this.refresh()}}class q extends E{constructor(o={}){super(o);d(this,"attach","layercoms_depth_");this.attach+=this.uuid.substring(this.uuid.length-12)}}class H extends F{constructor(o={}){super(o);d(this,"attach","layercoms_color_");this.attach+=this.uuid.substring(this.uuid.length-12)}}const I=["args"],K=p({__name:"component",props:{layers:{},color:{},alpha:{},lighting:{},name:{}},setup(r,{expose:e}){const o=r,a=w(),{extend:s}=_();return s({LayerMaterialCom:j}),e({LayerMaterialClass:a}),k(()=>{a.value.init()}),(l,n)=>(c(),m("TresLayerMaterialCom",{ref_key:"LayerMaterialClass",ref:a,args:[o]},[A(l.$slots,"default")],8,I))}}),O=["args"],X=p({__name:"color",props:{color:{},alpha:{},mode:{},name:{},visible:{type:Boolean}},setup(r){const e=r,{extend:o}=_();o({Color:H});const a=y();return B(()=>{a.value&&(e.color&&(a.value.color=new u(e.color)),e.alpha&&(a.value.alpha=e.alpha))}),(s,l)=>(c(),m("TresColor",{ref_key:"colorRef",ref:a,args:[e],visible:!0},null,8,O))}}),J=["args"],Q=p({__name:"depth",props:{colorA:{},colorB:{},alpha:{},near:{},far:{},origin:{},mapping:{},mode:{},name:{},visible:{type:Boolean}},setup(r){const e=r,{extend:o}=_();o({Depth:q});const a=y();return B(()=>{a.value&&(e.colorA&&(a.value.colorA=new u(e.colorA)),e.colorB&&(a.value.colorB=new u(e.colorB)),e.alpha&&(a.value.alpha=e.alpha),e.near&&(a.value.near=e.near),e.far&&(a.value.far=e.far))}),(s,l)=>(c(),m("TresDepth",{ref_key:"instanceRef",ref:a,args:[e],visible:!0},null,8,J))}}),U=h("TresPerspectiveCamera",{position:[5,10,5],fov:30,near:1,far:1e3},null,-1),Y=h("TresAmbientLight",{color:"#ffffff",intensity:"2"},null,-1),Z={position:[0,.5,0]},aa=h("TresSphereGeometry",{args:[1,500,500]},null,-1),ha=p({__name:"layerMaterial",setup(r){const e=g({clearColor:"#000000",shadows:!0,alpha:!1,antialias:!0,pixelRatio:window.devicePixelRatio,shadowMapType:M,outputColorSpace:R,toneMapping:void 0,useLegacyLights:!0}),o=g({autoRotate:!0}),a=T({color1:"#000000",alpha1:1,colorA:"#ed08ff",colorB:"#1bff00",alpha2:1.1,near:.87,far:299.77}),s=new $({expanded:!0}),l=s.addFolder({title:"Color层"});l.addBinding(a,"color1",{label:"颜色"}),l.addBinding(a,"alpha1",{label:"alpha",step:.1,min:0,max:2});const n=s.addFolder({title:"Depth层"});return n.addBinding(a,"colorA",{label:"颜色A"}),n.addBinding(a,"colorB",{label:"颜色B"}),n.addBinding(a,"alpha2",{label:"alpha",step:.1,min:0,max:2}),n.addBinding(a,"near",{label:"near",step:.01,min:0,max:1}),n.addBinding(a,"far",{label:"far",step:.01,min:299,max:300}),(ea,oa)=>{const C=L("TresCanvas");return c(),v(C,P(e,{"window-size":""}),{default:f(()=>[U,i(t(W),S(D(o)),null,16),Y,(c(),v(z,null,{default:f(()=>[i(t(N),{reflectivity:2.6,showGridHelper:"",position:[0,-.6,0]})]),_:1})),h("TresMesh",Z,[aa,i(t(K),{color:"white",lighting:"physical"},{default:f(()=>[i(t(X),{color:t(a).color1,alpha:t(a).alpha1},null,8,["color","alpha"]),i(t(Q),{colorA:t(a).colorA,colorB:t(a).colorB,alpha:t(a).alpha2,mode:"normal",near:t(a).near,far:t(a).far,origin:new G(100,100,100)},null,8,["colorA","colorB","alpha","near","far","origin"])]),_:1})])]),_:1},16)}}});export{ha as default};
