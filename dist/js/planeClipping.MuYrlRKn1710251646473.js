import{$ as h,ak as w,aA as v,aB as C,b0 as f,b1 as p,an as S,o as l,c as y,W as r,K as s,a as n,E as B,a0 as k,ac as P,a5 as x,v as u,D as _,a8 as j,ab as N,ag as z,a9 as A,aa as L}from"./vendor.f0vkPp2H1710251646473.js";import{_ as T}from"./cloudPoints.vue_vue_type_script_setup_true_lang.7oUHCbKJ1710251646473.js";import{_ as $}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.c1ai7GKB1710251646473.js";import"./Reflector.wkjSHd1e1710251646473.js";const D=["object"],E=h({__name:"planeClipping",async setup(b){let t,e;const{renderer:i}=w();i.value.localClippingEnabled=!0;const{nodes:a}=([t,e]=v(()=>C("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/plane/scene.gltf",{draco:!0,decoderPath:"./draco/"})),t=await t,e(),t);console.log(a),a.Sketchfab_model.getObjectByName("Floor").removeFromParent();const c=a.Sketchfab_model.getObjectByName("Cube006_Avion_0");c.castShadow=!0;const o=[new f(new p(1,0,0),0),new f(new p(0,0,-1),0)];c.material.clipIntersection=!0,c.material.clippingPlanes=o;const m=a.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");m.material.clipIntersection=!0,m.material.clippingPlanes=o;const g=a.Sketchfab_model.getObjectByName("CS_Black_0"),d=new S({title:"裁剪参数",expanded:!0});return d.addBinding(o[0],"constant",{label:"x",min:-200,max:200,step:1}),d.addBinding(o[1],"constant",{label:"y",min:-200,max:250,step:1}),(M,R)=>(l(),y(B,null,[r("primitive",{object:s(a).Sketchfab_model},null,8,D),n(T,{isRemoveSrc:"",model:s(g),color:"#fff"},null,8,["model"])],64))}}),O=r("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1),F=r("TresAmbientLight",{color:"#ffffff",intensity:"1"},null,-1),W=h({__name:"planeClipping",setup(b){const t=k({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),e=P();return x(()=>{e.value&&(e.value.shadow.mapSize.set(1e3,1e3),e.value.shadow.camera.near=.1,e.value.shadow.camera.far=5e3,e.value.shadow.camera.top=200,e.value.shadow.camera.right=200,e.value.shadow.camera.left=-200,e.value.shadow.camera.bottom=-200,e.value.shadow.radius=10)}),(i,a)=>(l(),u(s(j),{clearColor:"#333",shadows:"","window-size":""},{default:_(()=>[O,n(s(N)),F,r("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:e,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(l(),u(z,null,{default:_(()=>[n(E)]),_:1})),n($,A(L(t)),null,16)]),_:1}))}});export{W as default};
